{"name":"Sql-templar","tagline":"A sql template engine on a crusade","body":"# Sql Templar\r\n\r\n[![build status](https://secure.travis-ci.org/twilson63/sql-templar.png)](http://travis-ci.org/twilson63/sql-templar)\r\n\r\nAn alternative crusade to the knights of ORM Land.\r\n\r\nSql-Templar is a small abstraction over node-mysql that provides a similar api to that of rendering html templates, but for sql files.  This gets the sql files out of concatenated strings and allows you to place them in a directory much like you place you jade or ejs templates for html.  Here is some sample usage code:\r\n\r\n# Usage\r\n\r\n/sql/customers.sql\r\n\r\n``` sql\r\nselect * from customers where name like ?\r\n```\r\n\r\n/index.js\r\n\r\n``` javascript\r\nvar st = require('sql-templar')({\r\n  templates: {\r\n    dir: __dirname + '/sql',\r\n    ext: 'sql'\r\n  }, db: {\r\n    host: 'localhost',\r\n    port: 3306,\r\n    database: 'test',\r\n    user: 'root'\r\n  }\r\n});\r\n\r\nst.exec('customers', ['A%'], function(err, rows) {\r\n  if (err) { console.log(err); }\r\n  console.log(rows);\r\n});\r\n```\r\n\r\n``` sh\r\nnode index.js\r\n```\r\n\r\nJust like you use jade or ejs templates with sql-templar you can manage your sql in template files and utilize all of the conventions and sugar provided by node-mysql to perform proper escaping, etc.  See the node-mysql readme for more details on the pattern matching.\r\n\r\n### Example with to build where clause with sql templar\r\n\r\n/sql/customers-where.sql\r\n``` sql\r\nselect * from customers where ?;\r\n```\r\nThen call st.exec like this:\r\n\r\n``` javascript\r\nst.exec('customers-where', {patient_id: 1, priority: 'Beep'}, function(err, rows) {\r\n  if (err) { console.log(err); }\r\n  console.log(rows);\r\n});\r\n```\r\nThis will make the customer-where.sql query look like this:\r\n\r\n```\r\nselect * from customers where patient_id = '1' AND priority = 'Beep';\r\n```\r\n\r\n### Example of how to build a more complex where clause\r\n\r\n#### For a list of which where attributes are currently available, visit [Where2](http://github.com/twilson63/where2)\r\n\r\n/sql/customers-where.sql\r\n``` sql\r\nselect * from customers where ?;\r\n```\r\nThen call st.exec like this:\r\n\r\n``` javascript\r\n\r\nst.exec('customers-where', {patient_id: 1, created_at: {'$gt': '2015-02-27 18:37:57'}}, function(err, rows) {\r\n  if (err) { console.log(err); }\r\n  console.log(rows);\r\n});\r\n```\r\nThis will make the customer-where.sql query look like this:\r\n\r\n```\r\nselect * from customers where patient_id = '1' AND created_at > '2015-02-27 18:37:57';\r\n```\r\n\r\n\r\n## Install\r\n\r\n```\r\nnpm install sql-templar\r\n```\r\n\r\n## Contributing\r\n\r\nContributions are welcome, the goal of the project is to simply provide a template like engine on top of node-mysql, any contributions that keep within the context of this goal will be merged.\r\n\r\n## LICENSE\r\n\r\nMIT\r\n\r\n## ROADMAP\r\n\r\n* Would like to offer support for other SQL Drivers, SQLLite, Postgres, etc.\r\n\r\n## Thanks\r\n\r\nThanks to Felixge and all the node-mysql contributors\r\nThanks to Ryan Dahl, Issacs and all the NodeJS Contributors and Community!\r\n\r\n## Collaborators\r\n\r\n* Tom Wilson [twilson63](https://github.com/twilson63)\r\n* Joel Villahermosa [joelv](https://github.com/joelv)\r\n* Kevin Collins [kevincol54](https://github.com/kevincol54)\r\n\r\n\r\n\r\nEnjoy!\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}